<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coffee Details</title>
  <link rel="stylesheet" href="detail.css">
  <script>
    // Function to calculate total price
    function calculateTotal() {
      var quantity = parseInt(document.getElementById('quantity').value);
      var size = document.getElementById('size').value;
      var basePrice = 0;

      // Determine the base price based on the selected size
      switch(size) {
        case 'S':
          basePrice = 2;
          break;
        case 'M':
          basePrice = 3;
          break;
        case 'L':
          basePrice = 4;
          break;
        default:
          basePrice = 0;
      }

      var totalPrice = quantity * basePrice;
      
      // Update the total price element
      document.getElementById('total-price').innerText = '$' + totalPrice.toFixed(2);
    }
  </script>
</head>
<body>
  <h1>Coffee Details</h1>
  <form action="add-to-cart.php" method="post" oninput="calculateTotal()">
    <input type='hidden' name="coffee_id" value="123" />
    <!-- Replace '123' with the actual coffee ID -->
    <label for="size">Size:</label>
    <select id="size" name="size" required onchange="calculateTotal()">
      <option value="S">Small</option>
      <option value="M">Medium</option>
      <option value="L">Large</option>
    </select>
    <br />
    <label for="sugar-level">Sugar Level:</label>
    <select id="sugar-level" name="sugar_level" required>
      <option value="0%">0%</option>
      <option value="25%">25%</option>
      <option value="50%">50%</option>
      <option value="75%">75%</option>
      <option value="100%">100%</option>
    </select>
    <br />
    <label for="quantity">Quantity:</label>
    <input type="number" id="quantity" name="quantity" value="1" min="1" required onchange="calculateTotal()" />
    <br />
    <label for="total-price">Total Price:</label>
    <span id="total-price">$2</span>
    <br />
    <input type="hidden" name="coffee" value="<?php echo $_GET['coffee']; ?>" />
    <input type="submit" value="Add to Cart" />
  </form>
</body>
</html>
